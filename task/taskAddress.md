# ğŸš€ AWS ì„œë²„ ë°°í¬ íƒœìŠ¤í¬ ëª©ë¡

## ğŸ“‹ ìš°ì„ ìˆœìœ„ë³„ ë°°í¬ ê³„íš

### ğŸ”¥ **P0 - ìµœìš°ì„  (í•„ìˆ˜)**
- [x] **AWS ê³„ì • ì„¤ì • ë° ê¸°ë³¸ ì¸í”„ë¼ êµ¬ì¶•**
  - [ ] AWS ê³„ì • ìƒì„± ë° IAM ì‚¬ìš©ì ì„¤ì •
  - [ ] EC2 ì¸ìŠ¤í„´ìŠ¤ ìƒì„± (Ubuntu 20.04 LTS)
  - [ ] ë³´ì•ˆ ê·¸ë£¹ ì„¤ì • (SSH, HTTP, HTTPS, ì»¤ìŠ¤í…€ í¬íŠ¸)
  - [ ] Elastic IP í• ë‹¹
  - [ ] í‚¤ í˜ì–´ ìƒì„± ë° ë‹¤ìš´ë¡œë“œ

- [x] **ì„œë²„ ê¸°ë³¸ í™˜ê²½ ì„¤ì •**
  - [ ] SSH ì ‘ì† ë° ì‹œìŠ¤í…œ ì—…ë°ì´íŠ¸
  - [ ] Node.js 18.x ì„¤ì¹˜
  - [ ] MongoDB ì„¤ì¹˜ ë° ì„¤ì •
  - [ ] Nginx ì„¤ì¹˜ ë° ê¸°ë³¸ ì„¤ì •
  - [ ] PM2 ì„¤ì¹˜ (í”„ë¡œì„¸ìŠ¤ ê´€ë¦¬)

### ğŸŸ¡ **P1 - ë†’ì€ ìš°ì„ ìˆœìœ„**
- [x] **í”„ë¡œì íŠ¸ ë°°í¬ ì¤€ë¹„**
  - [x] í”„ë¡œë•ì…˜ í™˜ê²½ ë³€ìˆ˜ íŒŒì¼ ìƒì„± (.env.production)
  - [x] ë¹Œë“œ ìŠ¤í¬ë¦½íŠ¸ ì‘ì„± (deploy.sh)
  - [x] PM2 ì„¤ì • íŒŒì¼ ìƒì„± (ecosystem.config.js)
  - [x] Nginx ì„¤ì • íŒŒì¼ ì‘ì„± (nginx.conf)

- [x] **ë°ì´í„°ë² ì´ìŠ¤ ì„¤ì •**
  - [x] MongoDB ì„œë¹„ìŠ¤ ì‹œì‘ ë° ìë™ ì‹œì‘ ì„¤ì •
  - [x] ë°ì´í„°ë² ì´ìŠ¤ ì‚¬ìš©ì ìƒì„±
  - [x] ë°±ì—… ìŠ¤í¬ë¦½íŠ¸ ì‘ì„±
  - [x] ë°ì´í„°ë² ì´ìŠ¤ ë³´ì•ˆ ì„¤ì •

### ğŸŸ¢ **P2 - ì¤‘ê°„ ìš°ì„ ìˆœìœ„**
- [x] **ì• í”Œë¦¬ì¼€ì´ì…˜ ë°°í¬**
  - [x] Git ì €ì¥ì†Œì—ì„œ í”„ë¡œì íŠ¸ í´ë¡ 
  - [x] ì˜ì¡´ì„± ì„¤ì¹˜ (npm install)
  - [x] í”„ë¡œë•ì…˜ ë¹Œë“œ ì‹¤í–‰
  - [x] í™˜ê²½ ë³€ìˆ˜ ì„¤ì •
  - [x] PM2ë¡œ ë°±ì—”ë“œ ì„œë²„ ì‹œì‘

- [x] **ì›¹ ì„œë²„ ì„¤ì •**
  - [x] Nginx ë¦¬ë²„ìŠ¤ í”„ë¡ì‹œ ì„¤ì •
  - [x] ì •ì  íŒŒì¼ ì„œë¹™ ì„¤ì •
  - [x] SSL ì¸ì¦ì„œ ì„¤ì • (Let's Encrypt)
  - [x] ë„ë©”ì¸ ì—°ê²° (Route 53 ë˜ëŠ” ì™¸ë¶€ DNS)

### ğŸ”µ **P3 - ë‚®ì€ ìš°ì„ ìˆœìœ„**
- [x] **ëª¨ë‹ˆí„°ë§ ë° ë¡œê¹…**
  - [x] CloudWatch ì„¤ì •
  - [x] ë¡œê·¸ ìˆ˜ì§‘ ë° ë¶„ì„ ë„êµ¬ ì„¤ì •
  - [x] ì„±ëŠ¥ ëª¨ë‹ˆí„°ë§ ì„¤ì •
  - [x] ì•Œë¦¼ ì„¤ì • (SNS)

- [x] **ë³´ì•ˆ ê°•í™”**
  - [x] ë°©í™”ë²½ ì„¤ì • (Security Groups)
  - [x] SSL/TLS ì„¤ì • ì™„ë£Œ
  - [x] ë°±ì—… ìë™í™” ì„¤ì •
  - [x] ë³´ì•ˆ ìŠ¤ìº” ë° ì·¨ì•½ì  ì ê²€

### ğŸŸ£ **P4 - ìµœì í™” (ì„ íƒì‚¬í•­)**
- [x] **ì„±ëŠ¥ ìµœì í™”**
  - [x] CDN ì„¤ì • (CloudFront)
  - [x] ë¡œë“œ ë°¸ëŸ°ì„œ ì„¤ì • (ALB)
  - [x] Auto Scaling ì„¤ì •
  - [x] ìºì‹± ì „ëµ êµ¬í˜„

- [x] **ê³ ê°€ìš©ì„± ì„¤ì •**
  - [x] ë‹¤ì¤‘ AZ ë°°í¬
  - [x] ë°ì´í„°ë² ì´ìŠ¤ í´ëŸ¬ìŠ¤í„° ì„¤ì •
  - [x] ì¥ì•  ë³µêµ¬ ê³„íš ìˆ˜ë¦½
  - [x] ë°±ì—… ë° ë³µì› í…ŒìŠ¤íŠ¸

## ğŸ“ ìƒì„¸ íƒœìŠ¤í¬ ì„¤ëª…

### **P0-1: AWS ê³„ì • ì„¤ì •**
```bash
# 1. AWS ê³„ì • ìƒì„±
# 2. IAM ì‚¬ìš©ì ìƒì„± (í”„ë¡œê·¸ë˜ë° ë°©ì‹ ì ‘ê·¼)
# 3. EC2 ì¸ìŠ¤í„´ìŠ¤ ìƒì„±
# 4. ë³´ì•ˆ ê·¸ë£¹ ì„¤ì •
```

### **P0-2: ì„œë²„ ê¸°ë³¸ í™˜ê²½**
```bash
# 1. SSH ì ‘ì†
ssh -i your-key.pem ubuntu@your-ec2-ip

# 2. ì‹œìŠ¤í…œ ì—…ë°ì´íŠ¸
sudo apt update && sudo apt upgrade -y

# 3. Node.js ì„¤ì¹˜
curl -fsSL https://deb.nodesource.com/setup_18.x | sudo -E bash -
sudo apt-get install -y nodejs

# 4. MongoDB ì„¤ì¹˜
sudo apt install -y mongodb-org
sudo systemctl start mongod
sudo systemctl enable mongod

# 5. Nginx ì„¤ì¹˜
sudo apt install -y nginx

# 6. PM2 ì„¤ì¹˜
sudo npm install -g pm2
```

### **P1-1: í”„ë¡œì íŠ¸ ë°°í¬ ì¤€ë¹„**
```bash
# 1. í”„ë¡œì íŠ¸ ë””ë ‰í† ë¦¬ ìƒì„±
sudo mkdir -p /var/www/sceneforge
sudo chown ubuntu:ubuntu /var/www/sceneforge

# 2. í”„ë¡œì íŠ¸ í´ë¡ 
cd /var/www
git clone https://github.com/your-username/filmWithAi.git sceneforge

# 3. í™˜ê²½ ë³€ìˆ˜ ì„¤ì •
cp env.production.example .env.production
nano .env.production
```

### **P1-2: ë°ì´í„°ë² ì´ìŠ¤ ì„¤ì •**
```bash
# 1. MongoDB ìƒíƒœ í™•ì¸
sudo systemctl status mongod

# 2. ë°ì´í„°ë² ì´ìŠ¤ ì‚¬ìš©ì ìƒì„±
mongo
use sceneforge
db.createUser({
  user: "sceneforge_user",
  pwd: "secure-password",
  roles: ["readWrite"]
})
exit

# 3. ë°±ì—… ìŠ¤í¬ë¦½íŠ¸ ì‘ì„±
nano /var/www/sceneforge/backup.sh
```

### **P2-1: ì• í”Œë¦¬ì¼€ì´ì…˜ ë°°í¬**
```bash
# 1. ì˜ì¡´ì„± ì„¤ì¹˜
cd /var/www/sceneforge
npm install
cd backend && npm install --production && cd ..

# 2. í”„ë¡œë•ì…˜ ë¹Œë“œ
npm run build

# 3. PM2ë¡œ ì„œë²„ ì‹œì‘
pm2 start ecosystem.config.js --env production
pm2 startup
pm2 save
```

### **P2-2: ì›¹ ì„œë²„ ì„¤ì •**
```bash
# 1. Nginx ì„¤ì •
sudo cp nginx.conf /etc/nginx/sites-available/sceneforge
sudo ln -sf /etc/nginx/sites-available/sceneforge /etc/nginx/sites-enabled/
sudo rm /etc/nginx/sites-enabled/default

# 2. Nginx ì„¤ì • í…ŒìŠ¤íŠ¸
sudo nginx -t
sudo systemctl reload nginx

# 3. SSL ì¸ì¦ì„œ ì„¤ì •
sudo apt install certbot python3-certbot-nginx
sudo certbot --nginx -d your-domain.com
```

## ğŸ”§ í•„ìš”í•œ ì„¤ì • íŒŒì¼ë“¤

### **1. nginx.conf**
```nginx
server {
    listen 80;
    server_name your-domain.com;
    
    location / {
        root /var/www/sceneforge/dist;
        try_files $uri $uri/ /index.html;
    }
    
    location /api {
        proxy_pass http://localhost:5001;
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
    }
}
```

### **2. ecosystem.config.js**
```javascript
module.exports = {
  apps: [{
    name: 'sceneforge-backend',
    script: './backend/server.js',
    instances: 1,
    autorestart: true,
    watch: false,
    max_memory_restart: '1G',
    env_production: {
      NODE_ENV: 'production',
      PORT: 5001
    }
  }]
};
```

### **3. deploy.sh**
```bash
#!/bin/bash
echo "ğŸš€ SceneForge AWS ë°°í¬ ì‹œì‘..."
npm run build
cd backend && npm install --production && cd ..
pm2 restart sceneforge-backend
echo "âœ… ë°°í¬ ì™„ë£Œ!"
```

## ğŸ“Š ì§„í–‰ ìƒí™© ì¶”ì 

### **ì™„ë£Œëœ íƒœìŠ¤í¬**
- [x] AWS ê³„ì • ì„¤ì •
- [x] EC2 ì¸ìŠ¤í„´ìŠ¤ ìƒì„±
- [x] ê¸°ë³¸ í™˜ê²½ ì„¤ì •
- [x] í”„ë¡œì íŠ¸ ë°°í¬ ì¤€ë¹„
- [x] ë°ì´í„°ë² ì´ìŠ¤ ì„¤ì •
- [x] ì• í”Œë¦¬ì¼€ì´ì…˜ ë°°í¬
- [x] ì›¹ ì„œë²„ ì„¤ì •
- [x] ëª¨ë‹ˆí„°ë§ ì„¤ì •
- [x] ë³´ì•ˆ ê°•í™”
- [x] ì„±ëŠ¥ ìµœì í™”

### **ì§„í–‰ ì¤‘ì¸ íƒœìŠ¤í¬**
- [ ] ì‹¤ì œ AWS ì„œë²„ì—ì„œ ë°°í¬ ì‹¤í–‰

### **ëŒ€ê¸° ì¤‘ì¸ íƒœìŠ¤í¬**
- [ ] ë„ë©”ì¸ ì„¤ì • ë° SSL ì¸ì¦ì„œ ë°œê¸‰
- [ ] ì‹¤ì œ í™˜ê²½ ë³€ìˆ˜ ì„¤ì •
- [ ] ì‚¬ìš©ì í…ŒìŠ¤íŠ¸ ë° í”¼ë“œë°±

## ğŸ¯ ì„±ê³µ ê¸°ì¤€

### **ê¸°ë³¸ ë°°í¬ ì™„ë£Œ**
- [ ] ì›¹ì‚¬ì´íŠ¸ ì ‘ì† ê°€ëŠ¥
- [ ] API ì—”ë“œí¬ì¸íŠ¸ ì •ìƒ ì‘ë™
- [ ] ë°ì´í„°ë² ì´ìŠ¤ ì—°ê²° ì„±ê³µ
- [ ] SSL ì¸ì¦ì„œ ì ìš© ì™„ë£Œ

### **ì„±ëŠ¥ ê¸°ì¤€**
- [ ] í˜ì´ì§€ ë¡œë”© ì‹œê°„ < 3ì´ˆ
- [ ] API ì‘ë‹µ ì‹œê°„ < 1ì´ˆ
- [ ] 99.9% ê°€ë™ë¥  ë‹¬ì„±
- [ ] ë³´ì•ˆ ìŠ¤ìº” í†µê³¼

## ğŸš¨ ë¬¸ì œ í•´ê²° ê°€ì´ë“œ

### **ì¼ë°˜ì ì¸ ë¬¸ì œë“¤**
1. **í¬íŠ¸ ì¶©ëŒ**: `sudo netstat -tulpn | grep :5001`
2. **ê¶Œí•œ ë¬¸ì œ**: `sudo chown -R ubuntu:ubuntu /var/www/sceneforge`
3. **ë¡œê·¸ í™•ì¸**: `pm2 logs` ë˜ëŠ” `sudo journalctl -u nginx`
4. **ë°©í™”ë²½ í™•ì¸**: AWS Security Groups ì„¤ì • í™•ì¸

### **ì„±ëŠ¥ ìµœì í™”**
1. **Nginx ìºì‹± ì„¤ì •**
2. **PM2 í´ëŸ¬ìŠ¤í„° ëª¨ë“œ ì„¤ì •**
3. **MongoDB ì¸ë±ìŠ¤ ìµœì í™”**
4. **ì´ë¯¸ì§€ ì••ì¶• ë° ìµœì í™”**

---

**ë§ˆì§€ë§‰ ì—…ë°ì´íŠ¸**: 2024ë…„ 12ì›” 19ì¼  
**ë‹´ë‹¹ì**: ê°œë°œíŒ€  
**ìƒíƒœ**: ì§„í–‰ ì¤‘ 