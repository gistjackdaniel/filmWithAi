# SceneForge ver.2 - 타임라인 기능 개발 태스크 목록

## 📋 프로젝트 정보
- **담당자**: 개발자A (프로젝트 관리 + 타임라인)
- **목표**: SceneForge ver.2의 타임라인 기능 완전 구현
- **기간**: 6주 (Week 9-12 + 추가 2주)
- **우선순위**: P0(최우선) > P1(고우선) > P2(중우선) > P3(저우선)

---

## 🎯 현재 상태 분석

### ✅ 이미 구현된 기능들
- [x] 기본 타임라인 컴포넌트 구조 (Atomic Design)
- [x] TimelineViewer (organisms)
- [x] SceneCard, TimelineScroll, TimeRuler (atoms)
- [x] TimelineFilters, TimelineNavigation, ZoomControls (molecules)
- [x] timelineStore (Zustand 상태 관리)
- [x] timelineService (API 연동)
- [x] 드래그 앤 드롭 기능 (@dnd-kit)
- [x] 줌 기능 및 시간 기반 스케일링
- [x] 기본 디자인 시스템 적용

### 🔍 현재 문제점들
- [ ] 이중 타임라인 시스템 (V1, V2) 미구현
- [ ] AI 비디오 생성 통합 기능 부족
- [ ] 프리미어 프로 연동 미구현
- [ ] 실시간 협업 기능 부족
- [ ] 컷 단위 세분화 미구현

---

## 🚀 P0 - 최우선 태스크 (Week 9-10)

### 2.2.1 이중 타임라인 시스템 구현

#### P0.1 V1 타임라인 (컷 이미지) - CutTimelineViewer.jsx 개선
- [x] **V1 타임라인 컴포넌트 생성**
  - [x] `src/components/timeline/organisms/CutTimelineViewer.jsx` 생성
  - [x] 이미지 형태의 컷들로 구성
  - [x] 스토리보드 형태의 시각화
  - [x] 컷별 상세 정보 표시
  - [x] 드래그 앤 드롭 편집 기능

- [x] **컷 이미지 관리**
  - [x] `src/components/timeline/atoms/CutCard.jsx` 생성
  - [x] 이미지 로딩 및 에러 처리
  - [x] 이미지 줌 및 패닝 기능
  - [x] 이미지 메타데이터 표시
  - [x] 컷별 상세 정보 툴팁

- [x] **컷 정보 표시**
  - [x] 컷 번호 및 제목 표시
  - [x] 촬영 정보 (카메라 앵글, 렌즈 등)
  - [x] 등장인물 및 대사 정보
  - [x] 조명 및 특수효과 정보

#### P0.2 V2 타임라인 (비디오 파일) - CutTimelineViewer.jsx에 추가
- [x] **V2 타임라인 모드 추가**
  - [x] `CutTimelineViewer.jsx`에 타임라인 모드 전환 기능 추가
  - [x] V1 모드: 컷 이미지 타임라인 (현재 구현됨)
  - [x] V2 모드: 비디오 파일 타임라인 (새로 구현)
  - [x] 모드 전환 버튼 UI 추가

- [x] **V2 비디오 플레이어 컴포넌트**
  - [x] `src/components/timeline/atoms/VideoPlayer.jsx` 생성
  - [x] HTML5 video 태그 기반 비디오 재생
  - [x] 재생 컨트롤 (재생/일시정지, 볼륨, 진행률)
  - [x] 비디오 썸네일 생성
  - [x] 비디오 파일 업로드 인터페이스

- [x] **V2 비디오 카드 컴포넌트**
  - [x] `src/components/timeline/atoms/VideoCard.jsx` 생성
  - [x] 실사 촬영 영상 + AI 생성 비디오 표시
  - [x] 비디오 파일 업로드 기능
  - [x] 비디오 메타데이터 표시
  - [x] AI 생성 비디오와 실사 촬영 구분 표시

- [x] **비디오 파일 관리**
  - [x] 파일 업로드 드래그 앤 드롭
  - [x] 지원 형식 검증 (MP4, MOV, AVI 등)
  - [x] 파일 크기 제한 및 압축
  - [x] 업로드 진행률 표시

#### P0.3 타임라인 전환 시스템 - CutTimelineViewer.jsx 내부
- [x] **타임라인 모드 전환**
  - [x] V1/V2 전환 버튼 UI 추가
  - [x] 타임라인 모드 상태 관리
  - [x] 전환 시 데이터 동기화
  - [x] 현재 활성 모드 표시

- [x] **타임라인 통합 뷰어**
  - [x] `CutTimelineViewer.jsx` 내부에서 V1/V2 통합 표시
  - [x] 동기화된 스크롤 및 줌
  - [x] 타임라인 간 데이터 연동

- [x] **타임라인 동기화**
  - [x] V1 컷 정보와 V2 비디오 매칭
  - [x] 컷별 비디오 세그먼트 표시
  - [x] 시간 기반 동기화
  - [x] 컷 편집 시 양쪽 타임라인 반영

#### P0.4 프리미어 프로 스타일 트랙 타임라인
- [x] **트랙 레이어 시스템**
  - [x] V1 트랙 (컷 이미지) - 아래쪽
  - [x] V2 트랙 (비디오 파일) - 위쪽
  - [x] 각 트랙 독립적 표시/숨김 가능
  - [x] 트랙별 헤더 및 설명

- [x] **프리미어 프로 스타일 UI**
  - [x] CutCard.jsx 프리미어 프로 스타일로 수정
  - [x] VideoCard.jsx 프리미어 프로 스타일로 수정
  - [x] estimatedDuration 기반 크기 계산
  - [x] 클립 형태의 카드 디자인

- [x] **트랙 제어 시스템**
  - [x] V1/V2 트랙 표시 토글 스위치
  - [x] 트랙별 배경색 구분
  - [x] 트랙 헤더 정보 표시
  - [x] 트랙 상태 표시

### 2.2.2 AI 비디오 생성 통합 (오픈소스 기반)

#### P0.4 GPU 클러스터 연동 시스템
- [ ] **GPU 클러스터 서비스**
  - [ ] `src/services/gpuClusterService.js` 생성
  - [ ] GPU 노드 등록 및 관리
  - [ ] 로드 밸런싱 알고리즘
  - [ ] 작업 큐 관리

- [ ] **ComfyUI 연동**
  - [ ] `src/services/comfyUIIntegration.js` 생성
  - [ ] ComfyUI 워크플로우 생성
  - [ ] 이미지 생성 API 호출
  - [ ] 실시간 생성 상태 모니터링

#### P0.5 AI 비디오 생성 컴포넌트
- [ ] **SceneEditModal 개선**
  - [ ] ComfyUI 스타일 인터페이스 적용
  - [ ] 워크플로우 노드 편집 기능
  - [ ] 실시간 프리뷰 시스템
  - [ ] 생성 파라미터 조정 UI

- [ ] **AI 생성 상태 관리**
  - [ ] 생성 진행률 표시
  - [ ] 생성 실패 시 재시도 기능
  - [ ] 생성 결과 미리보기
  - [ ] 생성 히스토리 관리

#### P0.6 비디오 편집 기능
- [ ] **비디오 편집 인터페이스**
  - [ ] `src/components/timeline/molecules/VideoEditor.jsx` 생성
  - [ ] 타임라인 기반 편집
  - [ ] 컷, 복사, 붙여넣기 기능
  - [ ] 트랜지션 효과

- [ ] **실시간 비디오 수정**
  - [ ] 비디오 파라미터 실시간 조정
  - [ ] 변경사항 즉시 적용
  - [ ] 수정 히스토리 관리

---

## 🔶 P1 - 고우선 태스크 (Week 11-12)

### 2.2.3 프리미어 프로 연동

#### P1.1 XML 내보내기 시스템
- [ ] **XML 생성 엔진**
  - [ ] `src/services/premiereExportService.js` 생성
  - [ ] XML 5.0 표준 준수
  - [ ] 메타데이터 및 마커 자동 설정
  - [ ] 다양한 해상도/프레임레이트 지원

- [ ] **내보내기 UI**
  - [ ] `src/components/Export/PremiereExportModal.jsx` 생성
  - [ ] 내보내기 옵션 설정
  - [ ] 진행률 표시
  - [ ] 결과 미리보기

#### P1.2 단축키 시스템
- [ ] **키보드 단축키**
  - [ ] `src/hooks/useKeyboardShortcuts.js` 생성
  - [ ] CTRL+C+V 프리미어 프로 내보내기
  - [ ] 기타 편집 단축키
  - [ ] 단축키 설정 UI

#### P1.3 CEP 플러그인 개발
- [ ] **프리미어 프로 플러그인**
  - [ ] CEP 플러그인 구조 생성
  - [ ] SceneForge와 통신
  - [ ] 실시간 동기화
  - [ ] 플러그인 설치 가이드

### 2.2.4 컷 추가 시스템

#### P1.4 컷 세분화 시스템
- [x] **컷 분할 로직**
  - [x] `src/services/cutSegmentationService.js` 생성
  - [x] 연속적인 가장 작은 영상 단위로 컷 분할 (0.5초 최소)
  - [x] 컷 간 전환점 감지 (시각적/오디오 변화)
  - [x] 컷 정보 자동 생성

- [x] **컷 편집 인터페이스**
  - [x] `src/components/timeline/molecules/CutEditor.jsx` 생성
  - [x] 개별 컷 편집
  - [x] 컷 정보 수정
  - [x] 컷 미리보기

#### P1.5 선택적 컷 생성
- [ ] **컷 선택 UI**
  - [ ] 컷 선택 체크박스
  - [ ] 일괄 선택/해제
  - [ ] 선택된 컷만 생성

- [ ] **컷 연속성 보장**
  - [ ] 컷 간 연결 로직
  - [ ] 시간 간격 자동 조정
  - [ ] 컷 순서 최적화

---

## 🔶 P2 - 중우선 태스크 (추가 2주)

### 2.2.5 실시간 협업 기능

#### P2.1 실시간 동기화
- [ ] **WebSocket 연동**
  - [ ] `src/services/realtimeService.js` 개선
  - [ ] 실시간 타임라인 동기화
  - [ ] 동시 편집 충돌 해결
  - [ ] 사용자 상태 표시

- [ ] **협업 UI**
  - [ ] 실시간 편집 상태 표시
  - [ ] 다른 사용자 커서 표시
  - [ ] 변경사항 실시간 알림

#### P2.2 권한 관리
- [ ] **편집 권한 시스템**
  - [ ] 역할별 편집 권한
  - [ ] 실시간 권한 확인
  - [ ] 권한 변경 알림

### 2.2.6 고급 타임라인 기능

#### P2.3 고급 편집 기능
- [ ] **다중 선택**
  - [ ] 여러 컷 동시 선택
  - [ ] 일괄 편집 기능
  - [ ] 그룹화 기능

- [ ] **고급 필터링**
  - [ ] 복합 필터 조건
  - [ ] 필터 저장/불러오기
  - [ ] 필터 히스토리

#### P2.4 성능 최적화
- [ ] **가상화 개선**
  - [ ] 대용량 타임라인 최적화
  - [ ] 메모리 사용량 최적화
  - [ ] 렌더링 성능 개선

- [ ] **캐싱 시스템**
  - [ ] 비디오 캐싱
  - [ ] 이미지 캐싱
  - [ ] 메타데이터 캐싱

---

## 🔶 P3 - 저우선 태스크 (향후 확장)

### 2.2.7 고급 AI 기능

#### P3.1 AI 비디오 품질 개선
- [ ] **AI 모델 최적화**
  - [ ] 더 정교한 비디오 생성
  - [ ] 모션 품질 개선
  - [ ] 일관성 향상

#### P3.2 AI 편집 어시스턴트
- [ ] **자동 편집 제안**
  - [ ] AI 기반 편집 추천
  - [ ] 자동 컷 포인트 제안
  - [ ] 스타일 일관성 검사

### 2.2.8 확장 기능

#### P3.3 다른 NLE 소프트웨어 연동
- [ ] **Final Cut Pro 연동**
- [ ] **DaVinci Resolve 연동**
- [ ] **Avid Media Composer 연동**

#### P3.4 모바일 지원
- [ ] **반응형 타임라인**
- [ ] **터치 제스처 지원**
- [ ] **모바일 최적화**

---

## 🛠️ 기술적 구현 세부사항

### 디자인 시스템 적용
- [ ] **색상 시스템**
  - [ ] Primary: `#3498DB` (Modern Blue)
  - [ ] Accent: `#D4AF37` (Cinematic Gold)
  - [ ] Background: `#1B1B1E` (Charcoal Black)
  - [ ] Secondary BG: `#2F2F37` (Slate Gray)

- [ ] **타이포그래피**
  - [ ] Inter 폰트 적용
  - [ ] CSS 변수 기반 폰트 시스템
  - [ ] 반응형 폰트 크기

- [ ] **컴포넌트 스타일**
  - [ ] Material-UI v5 테마 적용
  - [ ] 일관된 간격 시스템
  - [ ] 접근성 고려

### 코딩 규칙 준수
- [ ] **주석 작성**
  - [ ] 모든 함수에 JSDoc 주석
  - [ ] 복잡한 로직에 인라인 주석
  - [ ] 컴포넌트 목적 설명

- [ ] **코드 구조**
  - [ ] Atomic Design 패턴 준수
  - [ ] 관심사 분리
  - [ ] 재사용 가능한 컴포넌트

### 테스트 및 품질 관리
- [ ] **단위 테스트**
  - [ ] 컴포넌트 테스트
  - [ ] 유틸리티 함수 테스트
  - [ ] 스토어 테스트

- [ ] **통합 테스트**
  - [ ] 타임라인 워크플로우 테스트
  - [ ] AI 생성 통합 테스트
  - [ ] 프리미어 프로 연동 테스트

---

## 📊 진행 상황 추적

### 현재 진행률
- **P0**: 100% (18/18 태스크 완료) - 이중 타임라인 시스템 완성 ✅
- **P1**: 20% (2/10 태스크 완료) - 컷 세분화 시스템 완성
- **P2**: 0% (0/8 태스크 완료)
- **P3**: 0% (0/6 태스크 완료)

### 마일스톤
- **Week 10**: 이중 타임라인 시스템 완성
- **Week 12**: AI 비디오 생성 통합 완성
- **Week 14**: 프리미어 프로 연동 완성
- **Week 16**: 실시간 협업 기능 완성

---

## 🎯 성공 지표

### 기술적 지표
- 타임라인 로딩 시간: 2초 이내
- AI 비디오 생성 시간: 30초 이내
- 실시간 동기화 지연: 100ms 이내
- 메모리 사용량: 500MB 이내

### 사용자 경험 지표
- 타임라인 전환 시간: 1초 이내
- 편집 반응성: 50ms 이내
- 사용자 만족도: 4.5/5.0 이상

---

**마지막 업데이트**: 2024년 12월 19일  
**예상 완료일**: 2025년 2월 2일 (6주)  
**담당자**: 개발자A 