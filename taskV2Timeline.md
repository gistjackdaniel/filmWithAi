# TimelineV2.jsx 기능 구현 태스크 목록

## 🎯 목표
TimelineV2.jsx에 다음 3가지 기능을 구현:
1. 빈 공간으로 시작 (기본 UI 수정)
2. 동영상 파일 업로드 기능
3. CutCard → TimelineV2 드래그 앤 드롭으로 AI 영상 생성

---

## ✅ 완료된 작업

### 🔥 1순위: 빈 공간으로 시작 (기본 UI 수정) ✅

- [x] **1.1 TimelineV2.jsx 초기 상태 수정**
  - [x] `v2Videos` 상태를 빈 배열로 초기화
  - [x] 기존 컷 대표 이미지 표시 로직 제거
  - [x] 빈 상태 UI 개선 (드롭 영역 강조)

- [x] **1.2 빈 상태 메시지 업데이트**
  - [x] "V2 타임라인 준비 완료" 메시지로 변경
  - [x] 드래그 앤 드롭 안내 텍스트 추가
  - [x] 비디오 업로드 버튼과 AI 영상 생성 버튼 추가

- [x] **1.3 CutTimelineViewer.jsx V2 트랙 수정**
  - [x] V2 트랙에서 VideoCard 제거
  - [x] V2 트랙을 빈 상태로 변경
  - [x] "V2 타임라인에서 비디오를 관리하세요" 메시지 추가

### 🔥 2순위: 동영상 파일 업로드 기능 ✅

- [x] **2.1 VideoUploader 컴포넌트 확인/수정**
  - [x] 파일 선택 기능 구현
  - [x] 지원 형식: MP4, AVI, MOV, WMV
  - [x] 파일 크기 제한 (100MB)
  - [x] 업로드 진행률 표시

- [x] **2.2 업로드된 비디오 처리**
  - [x] `handleVideoUpload` 함수 수정
  - [x] 업로드된 비디오를 `v2Videos`에 추가
  - [x] 비디오 메타데이터 추출 (duration, title 등)
  - [x] 로컬 파일 URL 생성

- [x] **2.3 TimelineV2Video 컴포넌트 수정**
  - [x] 업로드된 비디오 표시 로직
  - [x] 비디오 플레이어 컨트롤
  - [x] 삭제 기능 구현

### 🔥 3순위: CutCard → TimelineV2 드래그 앤 드롭 ✅

- [x] **3.1 CutCard.jsx 드래그 기능 수정**
  - [x] `isDraggable={false}` 설정 확인
  - [x] `onDragStart` 핸들러 수정
  - [x] 드래그 데이터 형식 통일

- [x] **3.2 TimelineV2.jsx 드롭 영역 개선**
  - [x] `onDrop` 핸들러 수정
  - [x] 드롭 영역 시각적 피드백 강화
  - [x] 드롭 데이터 파싱 및 검증

- [x] **3.3 Veo2 API 연동**
  - [x] `handleCutDropFromV1` 함수 수정
  - [x] `generateVideoWithVeo2` 호출
  - [x] 진행률 표시 다이얼로그 개선
  - [x] 에러 처리 및 사용자 피드백

### 🔥 4순위: 통합 및 최적화 ✅

- [x] **4.1 상태 관리 개선**
  - [x] `v2Videos` 상태 구조 최적화
  - [x] 로딩 상태 관리
  - [x] 에러 상태 처리

- [x] **4.2 UI/UX 개선**
  - [x] 드래그 앤 드롭 시각적 피드백
  - [x] 로딩 애니메이션
  - [x] 성공/실패 알림

- [x] **4.3 성능 최적화**
  - [x] 불필요한 리렌더링 방지
  - [x] 메모리 누수 방지
  - [x] 파일 업로드 최적화

---

## 🎉 새로운 통합된 V2 트랙 기능

### ✅ 완료된 통합 작업

- [x] **V2 트랙에 직접 비디오 업로드 기능 추가**
  - [x] CutTimelineViewer.jsx의 V2 트랙에 비디오 업로드 버튼 추가
  - [x] VideoUploader 컴포넌트 통합
  - [x] 업로드된 비디오 목록 표시

- [x] **V2 트랙에 직접 AI 영상 생성 기능 추가**
  - [x] V1에서 V2로 컷 드래그 앤 드롭 기능
  - [x] Veo2 API 연동
  - [x] AI 생성 진행률 표시

- [x] **통합된 UI/UX**
  - [x] V2 트랙에서 비디오 관리
  - [x] 비디오 타입별 배지 표시 (AI 생성 / 업로드)
  - [x] 비디오 삭제 기능
  - [x] 스낵바 알림 시스템

- [x] **별도 TimelineV2 컴포넌트 제거**
  - [x] ProjectPage.jsx에서 TimelineV2 import 제거
  - [x] 별도 V2 타임라인 섹션 제거
  - [x] CutTimelineViewer.jsx의 V2 트랙으로 통합

---

## 🚀 최종 결과

✅ **모든 기능이 성공적으로 구현되었습니다!**

- V2 트랙이 빈 상태로 시작
- V2 트랙에서 직접 비디오 파일 업로드 가능
- V1 트랙에서 컷을 V2 트랙으로 드래그하여 AI 영상 생성
- 통합된 타임라인 인터페이스
- 직관적인 사용자 경험

**사용 방법:**
1. V2 트랙의 "비디오 업로드" 버튼으로 파일 업로드
2. V1 트랙의 컷을 V2 트랙으로 드래그하여 AI 영상 생성
3. 업로드된 비디오는 V2 트랙에서 직접 관리 