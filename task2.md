# SceneForge AI 콘티 생성 기능 구현 태스크

## 🎯 목표
PRD 2.1.3 AI 콘티 생성 기능을 완전히 구현하여 스토리를 바탕으로 AI가 자동으로 콘티를 생성하고, 실사 촬영용과 AI 생성 비디오로 분류하는 시스템을 개발합니다.

## 📋 우선순위별 태스크 목록

### 🔥 P0 - 최우선 (핵심 기능)

- [x] **1. AI 콘티 생성 API 구현**
  - [x] `backend/server.js`에 콘티 생성 API 추가 (`POST /api/conte/generate`)
  - [x] OpenAI GPT-4o를 사용한 상세 콘티 생성
  - [x] 모든 콘티 요소 포함 (12개 요소)
  - [x] JSON 형식 응답 처리
  - [x] 에러 처리 및 재시도 로직

- [x] **2. 콘티 생성 프론트엔드 API 연동**
  - [x] `src/services/storyGenerationApi.js`에 콘티 생성 함수 추가
  - [x] `generateConte` 및 `generateConteWithRetry` 함수 구현
  - [x] 콘티 생성 요청/응답 데이터 구조 정의
  - [x] 타임아웃 및 에러 처리

- [x] **3. 콘티 생성 컴포넌트 개발**
  - [x] `src/components/StoryGeneration/ConteGenerator.jsx` 생성
  - [x] 콘티 생성 설정 UI (씬 수, 장르, 초점)
  - [x] 콘티 생성 버튼 및 로딩 상태
  - [x] 생성된 콘티 결과 표시
  - [x] 콘티 재생성 기능

- [x] **4. 콘티 결과 표시 컴포넌트**
  - [x] `src/components/StoryGeneration/ConteResult.jsx` 생성
  - [x] 모든 콘티 요소 상세 표시 (12개 요소)
  - [x] 아코디언 형태의 씬별 상세 정보
  - [x] 씬 타입 분류 (AI 생성/실사 촬영)
  - [x] 콘티 요약 정보 및 통계

- [x] **5. 콘티 생성 탭 통합**
  - [x] StoryGenerationPage에 콘티 생성 탭 추가
  - [x] 콘티 생성 상태 관리
  - [x] 생성된 콘티 저장 및 표시
  - [x] 콘티 편집 기능 준비

### 🔶 P1 - 고우선 (사용자 경험 개선)

- [ ] **6. 콘티 편집 기능 구현**
  - [ ] `src/components/StoryGeneration/ConteEditor.jsx` 생성
  - [ ] 개별 씬 편집 모달
  - [ ] 콘티 요소별 편집 폼 (12개 요소)
  - [ ] 실시간 미리보기
  - [ ] 변경사항 저장 및 취소

- [ ] **7. 콘티 타입 분류 시스템**
  - [ ] AI 생성 비디오 vs 실사 촬영 자동 분류
  - [ ] 분류 기준 설정 (복잡도, 특수효과, 예산 등)
  - [ ] 수동 분류 옵션
  - [ ] 분류 통계 및 분석

- [ ] **8. 콘티 내보내기 기능**
  - [ ] PDF 형태로 콘티 내보내기
  - [ ] Excel 형태로 콘티 내보내기
  - [ ] 이미지 형태로 콘티 내보내기
  - [ ] 다양한 템플릿 지원

### 🔶 P2 - 중우선 (고급 기능)

- [ ] **9. 콘티 템플릿 시스템**
  - [ ] 장르별 콘티 템플릿 (액션, 드라마, 코미디 등)
  - [ ] 촬영 스타일별 템플릿 (다큐멘터리, 뮤직비디오 등)
  - [ ] 사용자 정의 템플릿 저장
  - [ ] 템플릿 미리보기 및 적용

- [ ] **10. 콘티 품질 개선 기능**
  - [ ] 콘티 길이 조절 (씬 수, 씬 길이)
  - [ ] 콘티 스타일 변경 (시각적, 연기적, 기술적)
  - [ ] 콘티 재생성 및 개선
  - [ ] 품질 점수 및 피드백

- [ ] **11. 콘티 히스토리 관리**
  - [ ] 콘티 생성 히스토리 저장
  - [ ] 히스토리 재사용 기능
  - [ ] 히스토리 검색 및 필터링
  - [ ] 히스토리 통계 정보

### 📊 P3 - 데이터 관리 및 최적화

- [ ] **12. 콘티 데이터베이스 스키마**
  - [ ] 콘티 모델 설계 (MongoDB)
  - [ ] 씬별 상세 정보 저장
  - [ ] 콘티 버전 관리
  - [ ] 사용자별 콘티 분리

- [ ] **13. 콘티 저장 및 불러오기**
  - [ ] 콘티 자동 저장 기능
  - [ ] 프로젝트별 콘티 관리
  - [ ] 콘티 백업 및 복원
  - [ ] 콘티 공유 기능

### 🎨 P4 - UI/UX 개선

- [ ] **14. 콘티 시각화 개선**
  - [ ] 타임라인 형태의 콘티 표시
  - [ ] 씬별 썸네일 이미지
  - [ ] 드래그 앤 드롭 씬 순서 변경
  - [ ] 줌 인/아웃 기능

- [ ] **15. 콘티 상세 정보 모달**
  - [ ] 씬별 상세 정보 모달
  - [ ] 촬영 정보 표시 (장소, 장비, 세팅)
  - [ ] 예산 및 일정 정보
  - [ ] 협업자 정보 관리

### 🔧 P5 - 테스트 및 최적화

- [ ] **16. 콘티 생성 성능 최적화**
  - [ ] 대용량 콘티 처리 최적화
  - [ ] API 응답 시간 개선
  - [ ] 메모리 사용량 최적화
  - [ ] 캐싱 시스템 구현

- [ ] **17. 콘티 생성 테스트**
  - [ ] 콘티 생성 API 테스트
  - [ ] 다양한 장르별 콘티 생성 테스트
  - [ ] 에러 케이스 테스트
  - [ ] 성능 테스트

## 📊 완료된 콘티 요소 (12개)

### ✅ 구현된 콘티 요소들

1. **인물 상황 설명** - 인물들이 처한 상황에 대한 대략적인 설명
2. **대표 대사** - 해당 장면을 대표하는 핵심 대사
3. **카메라/그림 앵글과 구도** - 배치도를 포함한 카메라 구도 설명
4. **카메라 워크** - 장면 전환을 설명하는 화살표와 카메라 이동
5. **인물 배치도** - 인물의 위치와 동선을 설명하는 화살표
6. **소품 배치** - 장면에 필요한 소품들의 배치
7. **날씨와 지형** - 촬영 환경 조건
8. **조명** - 조명 설정과 분위기
9. **대표 그림 설명** - 장면을 직관적으로 이해할 수 있는 시각적 설명
10. **장면/시퀀스 전환점** - 전환 지점과 연결성
11. **렌즈 길이** - 요구되는 카메라 특성과 촬영 방식
12. **그래픽 툴/시각효과** - 사용할 그래픽 툴과 넣어야 하는 시각효과

## 🎬 콘티 생성 플로우

### 현재 구현된 플로우
1. **스토리 생성** - 시놉시스 입력 후 AI 스토리 생성
2. **콘티 생성 탭** - "콘티 생성" 탭으로 이동
3. **설정 조정** - 씬 수, 장르, 초점 설정
4. **콘티 생성** - "AI 콘티 생성하기" 버튼 클릭
5. **결과 확인** - 생성된 콘티의 모든 요소 상세 확인
6. **편집/재생성** - 필요시 콘티 편집 또는 재생성

### 향후 개선 플로우
1. **콘티 편집** - 개별 씬 및 요소 편집
2. **타입 분류** - AI 생성 vs 실사 촬영 자동 분류
3. **타임라인 시각화** - 타임라인 형태로 콘티 표시
4. **내보내기** - PDF, Excel 형태로 콘티 내보내기
5. **협업** - 팀원과 콘티 공유 및 협업

## 🚀 다음 단계

### 즉시 구현 가능한 기능들
1. **콘티 편집 기능** - 개별 씬 편집 모달
2. **타입 분류 시스템** - AI 생성 vs 실사 촬영 분류
3. **내보내기 기능** - PDF, Excel 내보내기
4. **히스토리 관리** - 콘티 생성 히스토리

### 중장기 구현 계획
1. **타임라인 시각화** - 드래그 앤 드롭 타임라인
2. **협업 기능** - 팀원 간 콘티 공유
3. **예산 관리** - 촬영 비용 추정
4. **스케줄링** - 촬영 일정 자동 생성

---

## 📈 현재 상태

### ✅ 완료된 기능 (5/17)
- [x] AI 콘티 생성 API 구현
- [x] 콘티 생성 프론트엔드 API 연동
- [x] 콘티 생성 컴포넌트 개발
- [x] 콘티 결과 표시 컴포넌트
- [x] 콘티 생성 탭 통합

### 🔄 진행 중인 기능 (0/17)
- 없음

### ⏳ 대기 중인 기능 (12/17)
- [ ] 콘티 편집 기능 구현
- [ ] 콘티 타입 분류 시스템
- [ ] 콘티 내보내기 기능
- [ ] 콘티 템플릿 시스템
- [ ] 콘티 품질 개선 기능
- [ ] 콘티 히스토리 관리
- [ ] 콘티 데이터베이스 스키마
- [ ] 콘티 저장 및 불러오기
- [ ] 콘티 시각화 개선
- [ ] 콘티 상세 정보 모달
- [ ] 콘티 생성 성능 최적화
- [ ] 콘티 생성 테스트

---

**마지막 업데이트**: 2024년 12월 19일  
**완료율**: 29% (5/17 태스크 완료)  
**우선순위**: P0 > P1 > P2 > P3 > P4 > P5 