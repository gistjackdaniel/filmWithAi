# SceneForge AI 스토리 생성 UI 개발 태스크 목록

## 🎯 목표
PRD 2.1.2 AI 스토리 생성 기능을 구현하여 사용자가 시놉시스를 입력하면 AI가 자동으로 스토리를 생성하는 UI를 개발합니다.

## 📋 우선순위별 태스크 목록

### 🔥 P0 - 최우선 (기본 구조 및 핵심 기능)

- [x] **1. AI 스토리 생성 페이지 컴포넌트 생성**
  - [x] `src/pages/StoryGenerationPage.jsx` 파일 생성
  - [x] 기본 페이지 레이아웃 구현 (AppBar, Container)
  - [x] 라우팅 설정 (`/story-generation` 경로 추가)
  - [x] 뒤로가기 및 네비게이션 기능
  - [x] 탭 기반 네비게이션 (스토리 생성, 히스토리, 템플릿, 품질 개선, 콘티 생성)

- [x] **2. 시놉시스 입력 폼 컴포넌트 개발**
  - [x] `src/components/StoryGeneration/SynopsisInputForm.jsx` 생성
  - [x] 텍스트 에디터 구현 (최대 1000자 제한)
  - [x] 문자 수 카운터 표시
  - [x] 제출 버튼 구현
  - [x] 입력 유효성 검사 (빈 값, 길이 제한)

- [x] **3. AI 스토리 생성 API 연동**
  - [x] `src/services/storyGenerationApi.js` 생성
  - [x] OpenAI GPT-4o API 호출 함수 구현
  - [x] 에러 처리 및 재시도 로직
  - [x] API 응답 데이터 구조 정의
  - [x] 백엔드 서버 연동 완료

- [x] **4. 로딩 상태 및 결과 표시 컴포넌트**
  - [x] `src/components/StoryGeneration/LoadingSpinner.jsx` 생성
  - [x] AI 생성 중 스피너 애니메이션
  - [x] "AI 생성 중..." 메시지 표시
  - [x] `src/components/StoryGeneration/StoryResult.jsx` 생성
  - [x] 생성된 스토리 표시 및 편집 기능

### 🔶 P1 - 고우선 (사용자 경험 개선)

- [x] **5. 디자인 시스템 적용**
  - [x] Design System 색상 변수 적용
  - [x] Typography 시스템 적용 (Inter 폰트)
  - [x] Button, Input Field 스타일 통일
  - [x] 반응형 디자인 구현
  - [x] Material-UI 테마 완전 적용

- [x] **6. 네트워크 오류 처리 및 오프라인 지원**
  - [x] `src/components/StoryGeneration/NetworkErrorHandler.jsx` 생성
  - [x] 네트워크 상태 감지 기능
  - [x] 오프라인 UI 전환
  - [x] 재시도 기능 구현
  - [x] 사용자 친화적 에러 메시지

- [x] **7. 에러 바운더리 및 예외 처리**
  - [x] `src/components/StoryGeneration/ErrorBoundary.jsx` 생성
  - [x] React 에러 바운더리 구현
  - [x] 컴포넌트 에러 캐치 및 복구
  - [x] 에러 로깅 및 사용자 알림

### 🔶 P2 - 중우선 (고급 기능)

- [x] **8. 스토리 히스토리 관리**
  - [x] `src/components/StoryGeneration/HistoryList.jsx` 생성
  - [x] 히스토리 저장 및 조회 기능
  - [x] 히스토리 재사용 기능
  - [x] 히스토리 삭제 기능
  - [x] 히스토리 검색 및 필터링

- [x] **9. 스토리 템플릿 시스템**
  - [x] `src/components/StoryGeneration/TemplateSelector.jsx` 생성
  - [x] 장르별 템플릿 제공
  - [x] 사용자 정의 템플릿 지원
  - [x] 템플릿 미리보기 기능
  - [x] 템플릿 적용 및 설정 변경

- [x] **10. 스토리 품질 개선 기능**
  - [x] `src/components/StoryGeneration/StoryQualityEnhancer.jsx` 생성
  - [x] 스토리 길이 조절 기능
  - [x] 스토리 스타일 변경 기능
  - [x] 예상 글자 수 표시
  - [x] 실시간 품질 개선 미리보기

- [x] **11. 탭 간 상태 유지 기능**
  - [x] Zustand 스토어에 템플릿 선택 상태 추가
  - [x] Zustand 스토어에 품질 개선 상태 추가
  - [x] 탭 이동 시 선택 상태 유지
  - [x] 컴포넌트 간 상태 동기화
  - [x] 전역 상태 관리 구현
  - [x] 시놉시스 입력 중인 내용 탭 이동 시 유지

### 🎬 P3 - 콘티 생성 기능 (새로 추가)

- [x] **11. AI 콘티 생성 API 구현**
  - [x] `backend/server.js`에 콘티 생성 API 추가
  - [x] OpenAI GPT-4o를 사용한 상세 콘티 생성
  - [x] 모든 콘티 요소 포함 (인물 상황, 대사, 카메라, 조명 등)
  - [x] JSON 형식 응답 처리
  - [x] 에러 처리 및 재시도 로직

- [x] **12. 콘티 생성 프론트엔드 API 연동**
  - [x] `src/services/storyGenerationApi.js`에 콘티 생성 함수 추가
  - [x] `generateConte` 및 `generateConteWithRetry` 함수 구현
  - [x] 콘티 생성 요청/응답 데이터 구조 정의
  - [x] 타임아웃 및 에러 처리

- [x] **13. 콘티 생성 컴포넌트 개발**
  - [x] `src/components/StoryGeneration/ConteGenerator.jsx` 생성
  - [x] 콘티 생성 설정 UI (씬 수, 장르, 초점)
  - [x] 콘티 생성 버튼 및 로딩 상태
  - [x] 생성된 콘티 결과 표시
  - [x] 콘티 재생성 기능

- [x] **14. 콘티 결과 표시 컴포넌트**
  - [x] `src/components/StoryGeneration/ConteResult.jsx` 생성
  - [x] 모든 콘티 요소 상세 표시 (12개 요소)
  - [x] 아코디언 형태의 씬별 상세 정보
  - [x] 씬 타입 분류 (AI 생성/실사 촬영)
  - [x] 콘티 요약 정보 및 통계
  - [x] JSON 응답 파싱 및 데이터 처리 로직 개선

- [x] **15. 콘티 생성 탭 통합**
  - [x] StoryGenerationPage에 콘티 생성 탭 추가
  - [x] 콘티 생성 상태 관리
  - [x] 생성된 콘티 저장 및 표시
  - [x] 콘티 편집 기능 준비
  - [x] 콘티 생성 상태 스토어 관리 및 탭 이동 시 유지

### 📊 P4 - 데이터 관리 및 최적화

- [ ] **16. 프로젝트 저장 및 불러오기**
  - [ ] 프로젝트 데이터베이스 스키마 설계
  - [ ] 프로젝트 저장 API 구현
  - [ ] 프로젝트 목록 조회 기능
  - [ ] 프로젝트 편집 및 삭제 기능

- [ ] **17. 성능 최적화**
  - [ ] 컴포넌트 메모이제이션 적용
  - [ ] API 응답 캐싱 구현
  - [ ] 이미지 최적화 및 지연 로딩
  - [ ] 번들 크기 최적화

### 🎨 P5 - UI/UX 개선

- [ ] **18. 애니메이션 및 전환 효과**
  - [ ] 페이지 전환 애니메이션
  - [ ] 로딩 스피너 개선
  - [ ] 버튼 호버 효과
  - [ ] 카드 플립 애니메이션

- [ ] **19. 접근성 개선**
  - [ ] 키보드 네비게이션 지원
  - [ ] 스크린 리더 호환성
  - [ ] 고대비 모드 지원
  - [ ] 포커스 관리 개선

### 🔧 P6 - 테스트 및 배포

- [ ] **20. 단위 테스트 작성**
  - [ ] 컴포넌트 테스트 (React Testing Library)
  - [ ] API 서비스 테스트
  - [ ] 유틸리티 함수 테스트
  - [ ] 에러 처리 테스트

- [ ] **21. 통합 테스트**
  - [ ] 전체 플로우 테스트
  - [ ] API 연동 테스트
  - [ ] 사용자 시나리오 테스트
  - [ ] 성능 테스트

- [ ] **22. 배포 준비**
  - [ ] 환경 변수 설정
  - [ ] 빌드 최적화
  - [ ] CI/CD 파이프라인 구축
  - [ ] 모니터링 및 로깅 설정

---

## ✅ 완료된 주요 기능

### 🎬 콘티 생성 시스템
- **모든 콘티 요소 포함**: 인물 상황, 대사, 카메라, 조명, 소품, 날씨, 지형, 시각효과 등 12개 요소
- **AI 기반 자동 분류**: 실사 촬영용과 AI 생성 비디오로 자동 분류
- **상세한 촬영 정보**: 렌즈 길이, 카메라 워크, 인물 배치도, 조명 설정 등
- **직관적인 UI**: 아코디언 형태의 상세 정보 표시 및 요약 통계

### 📝 스토리 생성 시스템
- **OpenAI GPT-4o 연동**: 고품질 스토리 생성
- **히스토리 관리**: 생성 이력 저장 및 재사용
- **템플릿 시스템**: 장르별 스토리 템플릿
- **품질 개선**: 스토리 길이 및 스타일 조절

### 🎨 사용자 경험
- **반응형 디자인**: 모든 디바이스 지원
- **실시간 피드백**: 로딩 상태 및 에러 처리
- **네트워크 오류 처리**: 오프라인 상태 감지 및 재시도
- **디자인 시스템**: 일관된 UI/UX

---

## 🚀 다음 단계

1. **콘티 편집 기능**: 생성된 콘티의 개별 요소 편집
2. **타임라인 시각화**: 콘티를 타임라인 형태로 표시
3. **프로젝트 관리**: 완성된 스토리/콘티 저장 및 관리
4. **협업 기능**: 팀원 간 프로젝트 공유
5. **내보내기 기능**: PDF, Excel 형태로 콘티 내보내기

---

**마지막 업데이트**: 2024년 12월 19일  
**완료율**: 75% (15/20 P0-P3 태스크 완료) 